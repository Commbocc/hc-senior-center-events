import{r as a,o as e,c as t,a as s,b as n,d as l,F as o,e as r,t as i,w as c,f as d,g as m,h as u,i as y,j as p,k as g,m as v,l as h}from"./vendor.25a762a6.js";const b={},f={class:"container-fluid py-3"};b.render=function(n,l,o,r,i,c){const d=a("router-view");return e(),t("main",f,[s(d)])};var k=n.create({baseURL:"https://api.airtable.com/v0/appnQtewYnscvLFHR",headers:{Authorization:"Bearer key1XrFuYhG1GKHvu"}});const w=l({error:"",loading:!1,data:[]});const D=l({error:"",loading:!1,data:null});const I={setup:()=>(async function(){w.loading=!0;try{const{data:a}=await k.get("/locations",{params:{view:"AppView"}});w.data=a.records}catch(a){w.error=a.message}finally{w.loading=!1}}(),{locations:w})},L={key:0,class:"text-center my-5"},N=s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),A={key:1,class:"table-responsive"},E={class:"table table-striped table-bordered"},S=s("thead",null,[s("tr",null,[s("th",null,"Location"),s("th",null,"Events"),s("th",null,"Web Page")])],-1),T=d(" View Events "),j={key:2,class:"alert alert-info",role:"alert"};I.render=function(n,l,d,m,u,y){const p=a("router-link");return m.locations.loading?(e(),t("div",L,[N])):m.locations.data.length?(e(),t("div",A,[s("table",E,[S,s("tbody",null,[(e(!0),t(o,null,r(m.locations.data,(({id:a,fields:n})=>(e(),t("tr",{key:a},[s("td",null,i(n.name),1),s("td",null,[s(p,{title:`${n.name} Events`,target:"_self",to:{name:"Location",params:{sitecoreItemId:n.GUID},query:{index:1}},class:""},{default:c((()=>[T])),_:2},1032,["title","to"])]),s("td",null,[s("a",{title:`${n.name} Web Page`,target:"_top",href:`https://www.hillsboroughcounty.org/~/link.aspx?_id=${n.GUID.replace(/[^a-z0-9]/gi,"")}`}," View Location's Web Page",8,["title","href"])])])))),128))])])])):(e(),t("div",j," No locations have events at this time. "))};const G=l({error:"",loading:!1,data:[]});const U={props:{sitecoreItemId:String},setup:a=>(async function(a){D.loading=!0;try{const{data:e}=await k.get("/locations",{params:{filterByFormula:`'${a}' = {GUID}`,view:"AppView"}});D.data=e.records[0]}catch(e){D.error=e.message}finally{D.loading=!1}}(a.sitecoreItemId),async function(a){G.loading=!0;try{const{data:e}=await k.get("/events",{params:{filterByFormula:`AND({Published}, '${a}' = ARRAYJOIN({LocationGUID}))`,view:"AppView"}});G.data=e.records}catch(e){G.error=e.message}finally{G.loading=!1}}(a.sitecoreItemId),{location:D,events:G})},$={key:0,"aria-label":"breadcrumb"},x={class:"breadcrumb"},F=s("li",{class:"breadcrumb-item"},[s("a",{href:"#"},"Senior Center Events")],-1),V={key:0,class:"breadcrumb-item active","aria-current":"page"},H={key:1,class:"text-center my-5"},P=s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),R={key:2},_={key:0},B={class:"card-body"},W={class:"row"},Y=s("dt",{class:"col-sm-4 col-lg-3"},"Event Type",-1),q={class:"col-sm-8 col-lg-9"},z={class:"badge bg-secondary"},M=s("dt",{class:"col-sm-4 col-lg-3"},"Activity",-1),C={class:"col-sm-8 col-lg-9"},J=s("dt",{class:"col-sm-4 col-lg-3"},"Date/time",-1),K={class:"col-sm-8 col-lg-9"},O={key:0},Q={key:1},X={key:2},Z=s("br",null,null,-1),aa={key:3},ea=s("dt",{class:"col-sm-4 col-lg-3"},"Description",-1),ta={class:"col-sm-8 col-lg-9"},sa={key:3,class:"alert alert-info",role:"alert"};U.render=function(a,n,l,c,d,p){var g,v;const h=m("markdown");return e(),t(o,null,[a.$route.query.index?(e(),t("nav",$,[s("ol",x,[F,c.location.data?(e(),t("li",V,i(null==(g=c.location.data.fields)?void 0:g.name),1)):u("",!0)])])):u("",!0),c.events.loading?(e(),t("div",H,[P])):c.events.data.length?(e(),t("div",R,[c.location.data?(e(),t("h1",_,i(null==(v=c.location.data.fields)?void 0:v.name)+" Events",1)):u("",!0),(e(!0),t(o,null,r(c.events.data,(({id:a,fields:n})=>(e(),t("section",{key:a,class:"card my-3"},[s("div",B,[s("dl",W,[Y,s("dd",q,[s("span",z,i(n.Type),1)]),M,s("dd",C,i(n.Activity),1),J,s("dd",K,[s("mark",null,[n.DayNames&&n.Spanish?(e(),t("span",O,i(n.DayNamesSpanish.join(", ")),1)):n.DayNames?(e(),t("span",Q,i(n.DayNames.join(", ")),1)):u("",!0),n.Date?(e(),t("span",X,i(new Date(n.Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)):u("",!0),Z,s("span",null,i(n.StartTimeName.join(" ")),1),n.EndTimeName?(e(),t("span",aa," - "+i(n.EndTimeName.join(" ")),1)):u("",!0)])]),ea,y(s("dd",ta,null,512),[[h,n.Description]])])])])))),128))])):(e(),t("div",sa," There are no events at this time. "))],64)};const na=[{path:"/",name:"Home",component:I},{path:"/:sitecoreItemId",name:"Location",component:U,props:!0}],la=p({history:g(),routes:na}),oa=v({html:!0,breaks:!0,linkify:!0});var ra={beforeMount(a,e){a.innerHTML=oa.render(e.value||"")}};h(b).use(la).directive("markdown",ra).mount("#app");
