import{r as a,o as e,c as t,a as s,b as l,d as n,F as o,e as r,t as i,w as c,f as d,g as m,h as u,i as y,j as p,k as v,m as g,l as b}from"./vendor.25a762a6.js";const h={},f={class:"container-fluid py-3"};h.render=function(l,n,o,r,i,c){const d=a("router-view");return e(),t("main",f,[s(d)])};var k=l.create({baseURL:"https://api.airtable.com/v0/appnQtewYnscvLFHR",headers:{Authorization:"Bearer key1XrFuYhG1GKHvu"}});const w=n({error:"",loading:!1,data:[]});const D=n({error:"",loading:!1,data:null});const I={setup:()=>(async function(){w.loading=!0;try{const{data:a}=await k.get("/locations",{params:{view:"AppView"}});w.data=a.records}catch(a){w.error=a.message}finally{w.loading=!1}}(),{locations:w})},L={key:0,class:"text-center my-5"},N=s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),A={key:1,class:"table-responsive"},E={class:"table table-striped table-bordered"},S=s("thead",null,[s("tr",null,[s("th",null,"Location"),s("th",null,"Events"),s("th",null,"Web Page")])],-1),T=d(" View Events "),$={key:2,class:"alert alert-info",role:"alert"};I.render=function(l,n,d,m,u,y){const p=a("router-link");return m.locations.loading?(e(),t("div",L,[N])):m.locations.data.length?(e(),t("div",A,[s("table",E,[S,s("tbody",null,[(e(!0),t(o,null,r(m.locations.data,(({id:a,fields:l})=>(e(),t("tr",{key:a},[s("td",null,i(l.name),1),s("td",null,[s(p,{title:`${l.name} Events`,"aria-label":`${l.name} Events`,target:"_self",to:{name:"Location",params:{sitecoreItemId:l.GUID},query:{index:1}},class:""},{default:c((()=>[T])),_:2},1032,["title","aria-label","to"])]),s("td",null,[s("a",{title:`${l.name} Web Page`,"aria-label":`${l.name} Web Page`,target:"_top",href:l.url}," View Location's Web Page",8,["title","aria-label","href"])])])))),128))])])])):(e(),t("div",$," No locations have events at this time. "))};const j=n({error:"",loading:!1,data:[]});const F={props:{sitecoreItemId:String},setup:a=>(async function(a){D.loading=!0;try{const{data:e}=await k.get("/locations",{params:{filterByFormula:`'${a}' = {GUID}`,view:"AppView"}});D.data=e.records[0]}catch(e){D.error=e.message}finally{D.loading=!1}}(a.sitecoreItemId),async function(a){j.loading=!0;try{const{data:e}=await k.get("/events",{params:{filterByFormula:`AND({Published}, '${a}' = ARRAYJOIN({LocationGUID}))`,view:"AppView"}});j.data=e.records}catch(e){j.error=e.message}finally{j.loading=!1}}(a.sitecoreItemId),{location:D,events:j})},G={key:0,"aria-label":"breadcrumb"},P={class:"breadcrumb"},U=s("li",{class:"breadcrumb-item"},[s("a",{href:"#"},"Senior Center Events")],-1),V={key:0,class:"breadcrumb-item active","aria-current":"page"},x={key:1,class:"text-center my-5"},H=s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),R={key:2},W={key:0},B={class:"card-body"},Y={class:"row"},_=s("dt",{class:"col-sm-4 col-lg-3"},"Event Type",-1),q={class:"col-sm-8 col-lg-9"},M={class:"badge bg-secondary"},z=s("dt",{class:"col-sm-4 col-lg-3"},"Activity",-1),C={class:"col-sm-8 col-lg-9"},J=s("dt",{class:"col-sm-4 col-lg-3"},"Date/time",-1),K={class:"col-sm-8 col-lg-9"},O={key:0},Q={key:1},X={key:2},Z=s("br",null,null,-1),aa={key:3},ea=s("dt",{class:"col-sm-4 col-lg-3"},"Description",-1),ta={class:"col-sm-8 col-lg-9"},sa={key:3,class:"alert alert-info",role:"alert"};F.render=function(a,l,n,c,d,p){var v,g;const b=m("markdown");return e(),t(o,null,[a.$route.query.index?(e(),t("nav",G,[s("ol",P,[U,c.location.data?(e(),t("li",V,i(null==(v=c.location.data.fields)?void 0:v.name),1)):u("",!0)])])):u("",!0),c.events.loading?(e(),t("div",x,[H])):c.events.data.length?(e(),t("div",R,[c.location.data?(e(),t("h1",W,i(null==(g=c.location.data.fields)?void 0:g.name)+" Events",1)):u("",!0),(e(!0),t(o,null,r(c.events.data,(({id:a,fields:l})=>(e(),t("section",{key:a,class:"card my-3"},[s("div",B,[s("dl",Y,[_,s("dd",q,[s("span",M,i(l.Type),1)]),z,s("dd",C,i(l.Activity),1),J,s("dd",K,[s("mark",null,[l.DayNames&&l.Spanish?(e(),t("span",O,i(l.DayNamesSpanish.join(", ")),1)):l.DayNames?(e(),t("span",Q,i(l.DayNames.join(", ")),1)):u("",!0),l.Date?(e(),t("span",X,i(new Date(l.Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)):u("",!0),Z,s("span",null,i(l.StartTimeName.join(" ")),1),l.EndTimeName?(e(),t("span",aa," - "+i(l.EndTimeName.join(" ")),1)):u("",!0)])]),ea,y(s("dd",ta,null,512),[[b,l.Description]])])])])))),128))])):(e(),t("div",sa," There are no events at this time. "))],64)};const la=[{path:"/",name:"Home",component:I},{path:"/:sitecoreItemId",name:"Location",component:F,props:!0}],na=p({history:v(),routes:la}),oa=g({html:!0,breaks:!0,linkify:!0});var ra={beforeMount(a,e){a.innerHTML=oa.render(e.value||"")}};b(h).use(na).directive("markdown",ra).mount("#app");
