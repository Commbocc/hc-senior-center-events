import{r as a,o as e,c as t,a as s,b as l,d as n,F as o,e as r,t as i,w as c,f as d,g as m,h as u,i as y,j as p,k as v,m as g,l as b}from"./vendor.25a762a6.js";const h={},f={class:"container-fluid py-3"};h.render=function(l,n,o,r,i,c){const d=a("router-view");return e(),t("main",f,[s(d)])};var k=l.create({baseURL:"https://api.airtable.com/v0/appnQtewYnscvLFHR",headers:{Authorization:"Bearer key1XrFuYhG1GKHvu"}});const w=n({error:"",loading:!1,data:[]});const D=n({error:"",loading:!1,data:null});const I={setup:()=>(async function(){w.loading=!0;try{const{data:a}=await k.get("/locations",{params:{view:"AppView"}});w.data=a.records}catch(a){w.error=a.message}finally{w.loading=!1}}(),{locations:w})},L={key:0,class:"text-center my-5"},N=s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),A={key:1,class:"table-responsive"},E={class:"table table-striped table-bordered"},F=s("thead",null,[s("tr",null,[s("th",null,"Location"),s("th",null,"Events"),s("th",null,"Web Page")])],-1),S=d(" View Events "),T={key:2,class:"alert alert-info",role:"alert"};I.render=function(l,n,d,m,u,y){const p=a("router-link");return m.locations.loading?(e(),t("div",L,[N])):m.locations.data.length?(e(),t("div",A,[s("table",E,[F,s("tbody",null,[(e(!0),t(o,null,r(m.locations.data,(({id:a,fields:l})=>(e(),t("tr",{key:a},[s("td",null,i(l.name),1),s("td",null,[s(p,{title:`${l.name} Events`,"aria-label":`${l.name} Events`,target:"_self",to:{name:"Location",params:{sitecoreItemId:l.GUID},query:{index:1}},class:""},{default:c((()=>[S])),_:2},1032,["title","aria-label","to"])]),s("td",null,[s("a",{title:`${l.name} Web Page`,"aria-label":`${l.name} Web Page`,target:"_top",href:l.url}," View Location's Web Page",8,["title","aria-label","href"])])])))),128))])])])):(e(),t("div",T," No locations have events at this time. "))};const $=n({error:"",loading:!1,data:[]});const j=a=>{const[e,t,s]=a.split("-");return new Date(e,t-1,s).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},G={props:{sitecoreItemId:String},setup:a=>(async function(a){D.loading=!0;try{const{data:e}=await k.get("/locations",{params:{filterByFormula:`'${a}' = {GUID}`,view:"AppView"}});D.data=e.records[0]}catch(e){D.error=e.message}finally{D.loading=!1}}(a.sitecoreItemId),async function(a){$.loading=!0;try{const{data:e}=await k.get("/events",{params:{filterByFormula:`AND({Published}, FIND('${a}', ARRAYJOIN({LocationGUID})))`,view:"AppView"}});$.data=e.records}catch(e){$.error=e.message}finally{$.loading=!1}}(a.sitecoreItemId),{location:D,events:$,dateFormat:j})},P={key:0,"aria-label":"breadcrumb"},U={class:"breadcrumb"},V=s("li",{class:"breadcrumb-item"},[s("a",{href:"#"},"Senior Center Events")],-1),x={key:0,class:"breadcrumb-item active","aria-current":"page"},H={key:1,class:"text-center my-5"},R=s("div",{class:"spinner-border",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1),W={key:2},B={key:0},Y={class:"card-body"},_={class:"row"},q=s("dt",{class:"col-sm-4 col-lg-3"},"Event Type",-1),M={class:"col-sm-8 col-lg-9"},z={class:"badge bg-secondary"},C=s("dt",{class:"col-sm-4 col-lg-3"},"Activity",-1),J={class:"col-sm-8 col-lg-9"},K=s("dt",{class:"col-sm-4 col-lg-3"},"Date/time",-1),O={class:"col-sm-8 col-lg-9"},Q={key:0},X={key:1},Z={key:2},aa=s("br",null,null,-1),ea={key:3},ta=s("dt",{class:"col-sm-4 col-lg-3"},"Description",-1),sa={class:"col-sm-8 col-lg-9"},la={key:3,class:"alert alert-info",role:"alert"};G.render=function(a,l,n,c,d,p){var v,g;const b=m("markdown");return e(),t(o,null,[a.$route.query.index?(e(),t("nav",P,[s("ol",U,[V,c.location.data?(e(),t("li",x,i(null==(v=c.location.data.fields)?void 0:v.name),1)):u("",!0)])])):u("",!0),c.events.loading?(e(),t("div",H,[R])):c.events.data.length?(e(),t("div",W,[c.location.data?(e(),t("h1",B,i(null==(g=c.location.data.fields)?void 0:g.name)+" Events",1)):u("",!0),(e(!0),t(o,null,r(c.events.data,(({id:a,fields:l})=>(e(),t("section",{key:a,class:"card my-3"},[s("div",Y,[s("dl",_,[q,s("dd",M,[s("span",z,i(l.Type),1)]),C,s("dd",J,i(l.Activity),1),K,s("dd",O,[s("mark",null,[l.DayNames&&l.Spanish?(e(),t("span",Q,i(l.DayNamesSpanish.join(", ")),1)):l.DayNames?(e(),t("span",X,i(l.DayNames.join(", ")),1)):u("",!0),l.Date?(e(),t("span",Z,i(c.dateFormat(l.Date)),1)):u("",!0),aa,s("span",null,i(l.StartTimeName.join(" ")),1),l.EndTimeName?(e(),t("span",ea," - "+i(l.EndTimeName.join(" ")),1)):u("",!0)])]),ta,y(s("dd",sa,null,512),[[b,l.Description]])])])])))),128))])):(e(),t("div",la," There are no events at this time. "))],64)};const na=[{path:"/",name:"Home",component:I},{path:"/:sitecoreItemId",name:"Location",component:G,props:!0}],oa=p({history:v(),routes:na}),ra=g({html:!0,breaks:!0,linkify:!0});var ia={beforeMount(a,e){a.innerHTML=ra.render(e.value||"")}};b(h).use(oa).directive("markdown",ia).mount("#app");
